<div class="min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-text-main">
  <!-- capa de brillo sutil -->
  <div
    class="pointer-events-none fixed inset-0 opacity-40 mix-blend-screen"
    style="
      background:
        radial-gradient(circle at 0% 0%, #22c55e10 0, transparent 55%),
        radial-gradient(circle at 100% 100%, #2563eb15 0, transparent 55%);
    "
  ></div>

  <!-- layout principal -->
  <div class="relative z-10 flex min-h-screen flex-col">
    <!-- NAVBAR (siempre visible) -->
    <header
      class="border-b border-app-border/70 bg-app-card/80 backdrop-blur
            flex items-center justify-between px-4 sm:px-6 py-3"
    >
      <!-- IZQUIERDA: Logo + texto -->
      <div class="flex items-center gap-2">
        <div
          class="h-12 w-12 sm:h-14 sm:w-14 flex items-center justify-center
                rounded-xl bg-app-card shadow-lg shadow-primary/40 overflow-hidden
                cursor-pointer"
          routerLink="/dashboard"
        >
          <img
            src="assets/LogoSoccer.png"
            alt="SOCCER-PREV Logo"
            class="h-10 w-10 sm:h-12 sm:w-12 object-contain"
          />
        </div>

        <div class="flex flex-col leading-tight">
          <p class="font-semibold tracking-wide text-xs sm:text-sm">
            SOCCER-PREV
          </p>
          <p class="text-[10px] sm:text-[11px] text-text-muted">
            ESCOM
          </p>
        </div>
      </div>

      <!-- CENTRO: Nav + usuario (solo desktop) -->
      <div
        class="hidden sm:flex flex-1 items-center justify-between ml-6"
        *ngIf="(isAuthenticated$ | async)"
      >
        <!-- Nav centrado -->
        <nav class="flex-1 flex justify-center items-center gap-4 text-xs">
          <a
            routerLink="/dashboard"
            routerLinkActive="text-text-main border-b-2 border-white pb-1"
            class="text-text-muted hover:text-primary transition border-b-2 border-transparent pb-1"
          >
            Panel
          </a>

          <a
            routerLink="/perfil"
            routerLinkActive="text-text-main border-b-2 border-white pb-1"
            class="text-text-muted hover:text-primary transition border-b-2 border-transparent pb-1"
          >
            Perfil
          </a>

          <a
            routerLink="/condicion-actual"
            routerLinkActive="text-text-main border-b-2 border-white pb-1"
            class="text-text-muted hover:text-primary transition border-b-2 border-transparent pb-1"
          >
            Recomendaci贸n
          </a>

          <a
            routerLink="/historial"
            routerLinkActive="text-text-main border-b-2 border-white pb-1"
            class="text-text-muted hover:text-primary transition border-b-2 border-transparent pb-1"
          >
            Historial
          </a>

          <a
            routerLink="/contenido"
            routerLinkActive="text-text-main border-b-2 border-white pb-1"
            class="text-text-muted hover:text-primary transition border-b-2 border-transparent pb-1"
          >
            Contenido
          </a>

          <a
            routerLink="/feedback"
            routerLinkActive="text-text-main border-b-2 border-white pb-1"
            class="text-text-muted hover:text-primary transition border-b-2 border-transparent pb-1"
          >
            Feedback
          </a>

          <a
            routerLink="/calentamiento"
            routerLinkActive="text-text-main border-b-2 border-white pb-1"
            class="text-text-muted hover:text-primary transition border-b-2 border-transparent pb-1"
          >
            Calentamiento
          </a>
        </nav>

        <!-- Info usuario + logout (desktop) -->
        <div class="flex items-center gap-2 text-[11px]">
          <div class="flex flex-col items-end leading-tight">
            <span class="font-medium">
              {{ (userData$ | async)?.nombre }}
              {{ (userData$ | async)?.apellidoPaterno }}
            </span>
            <span class="text-text-muted">
              {{ (userData$ | async)?.position }}
              路
              {{ (userData$ | async)?.level }}
            </span>
          </div>
          <button
            type="button"
            class="rounded-full border border-app-border px-2 py-1 text-[11px] text-text-muted hover:border-danger hover:text-danger transition"
            (click)="logout()"
          >
            Cerrar sesi贸n
          </button>
        </div>
      </div>

      <!-- DERECHA: Bot贸n hamburguesa (solo m贸vil) -->
      <button
        type="button"
        class="sm:hidden flex items-center justify-center
              h-11 w-11 rounded-2xl border border-app-border bg-slate-900/80
              text-text-muted hover:text-primary hover:border-primary transition"
        (click)="toggleMobileMenu()"
      >
        <svg xmlns="http://www.w3.org/2000/svg"
            fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" />
        </svg>
      </button>
    </header>
    <!-- MEN MVIL DESPLEGABLE -->
    <nav
      *ngIf="(isAuthenticated$ | async) && mobileMenuOpen"
      class="sm:hidden border-b border-app-border/70 bg-app-card/95"
    >
      <div class="px-4 py-2 flex flex-col gap-1 text-sm">
        <a
          routerLink="/dashboard"
          routerLinkActive="bg-primary/10 text-primary"
          (click)="closeMobileMenu()"
          class="rounded-lg px-3 py-2 text-text-muted hover:bg-primary/10 hover:text-primary transition"
        >
          Panel
        </a>
        <a
          routerLink="/perfil"
          routerLinkActive="bg-primary/10 text-primary"
          (click)="closeMobileMenu()"
          class="rounded-lg px-3 py-2 text-text-muted hover:bg-primary/10 hover:text-primary transition"
        >
          Perfil
        </a>
        <a
          routerLink="/condicion-actual"
          routerLinkActive="bg-primary/10 text-primary"
          (click)="closeMobileMenu()"
          class="rounded-lg px-3 py-2 text-text-muted hover:bg-primary/10 hover:text-primary transition"
        >
          Recomendaci贸n
        </a>
        <a
          routerLink="/historial"
          routerLinkActive="bg-primary/10 text-primary"
          (click)="closeMobileMenu()"
          class="rounded-lg px-3 py-2 text-text-muted hover:bg-primary/10 hover:text-primary transition"
        >
          Historial
        </a>
        <a
          routerLink="/contenido"
          routerLinkActive="bg-primary/10 text-primary"
          (click)="closeMobileMenu()"
          class="rounded-lg px-3 py-2 text-text-muted hover:bg-primary/10 hover:text-primary transition"
        >
          Contenido
        </a>
        <a
          routerLink="/feedback"
          routerLinkActive="bg-primary/10 text-primary"
          (click)="closeMobileMenu()"
          class="rounded-lg px-3 py-2 text-text-muted hover:bg-primary/10 hover:text-primary transition"
        >
          Feedback
        </a>
        <a
          routerLink="/calentamiento"
          routerLinkActive="bg-primary/10 text-primary"
          (click)="closeMobileMenu()"
          class="rounded-lg px-3 py-2 text-text-muted hover:bg-primary/10 hover:text-primary transition"
        >
          Calentamiento
        </a>
        <!--  SEPARADOR -->
        <hr class="border-app-border/70 my-2" />

        <!--  BOTN CERRAR SESIN EN MEN MVIL -->
        <button
          type="button"
          class="mt-1 w-full rounded-lg border border-danger/60 text-danger px-3 py-2 text-left text-sm hover:bg-danger/10 transition"
          (click)="logout(); closeMobileMenu()"
        >
          Cerrar sesi贸n
        </button>
      </div>
    </nav>
    <!-- Contenido -->
    <main class="flex-1 px-3 sm:px-6 py-5">
      <div class="mx-auto max-w-6xl">
        <router-outlet></router-outlet>
      </div>
    </main>

    <!-- Footer -->
    <footer
      class="border-t border-app-border/70 text-[11px] text-text-muted px-4 sm:px-6 py-2 text-center"
    >
      SOCCER-PREV 路 Proyecto de prevenci贸n de lesiones en f煤tbol soccer 路 ESCOM - IPN
    </footer>
  </div>
</div>